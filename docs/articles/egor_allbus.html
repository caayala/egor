<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with Allbus 2010 ego-centered network data using egor • egor</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Working with Allbus 2010 ego-centered network data using egor">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">egor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.20.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/egor_allbus.html">Working with Allbus 2010 ego-centered network data using egor</a>
    </li>
    <li>
      <a href="../articles/using_egor.html">Using `egor` to analyse ego-centered network data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tilltnet/egor">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="egor_allbus_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Working with Allbus 2010 ego-centered network data using egor</h1>
                        <h4 class="author">Till Krenz</h4>
            
            <h4 class="date">2020-03-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tilltnet/egor/blob/master/vignettes/egor_allbus.Rmd"><code>vignettes/egor_allbus.Rmd</code></a></small>
      <div class="hidden name"><code>egor_allbus.Rmd</code></div>

    </div>

    
    
<p><strong><em>Note: The data used in this vignette is simulated based on the the original Allbus 2010 SPSS data by GESIS. The dataset simulates 100 respondents and does not resemble any actual Allbus respondents. Each variable is randomly generated based on the range of the original variables, co-varianaces between variables are disregarded. The data’s purpose is purely to demonstrate how to technically work with the Allbus data using egor and R - no analytical assumptions should be made based on this data! The code in this vignette works with the original Allbus 2010 data, that can be aquired <a href="https://www.gesis.org/en/allbus/allbus-home">here</a>.</em></strong></p>
<div id="the-allbus-2010-ego-centered-network-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-allbus-2010-ego-centered-network-data" class="anchor"></a>The Allbus 2010: ego-centered network data</h2>
<p>The Allbus 2010 splits the respondents into two groups. Both groups were presented different name generators.</p>
<ul>
<li>Allbus name generator - the generated alters are called “Freunde” (friends in German) in the data (max. 3 persons, “spent time with in private, not living in same household”)</li>
<li>GSS name gerneator - these alters are called “Kontakte” (contacts in German) in the dataset (max. 5 persons, “discussed important matters”)</li>
</ul>
<p>For more information please consult the Allbus documentation. ## Load packages and data</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(egor)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(purrr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(haven)</span></code></pre></div>
<p>In addition to <em>egor</em>, this vignette uses the <em>haven</em> package, to import the SPSS file of the Allbus 2010 and the <em><a href="https://purrr.tidyverse.org/">purrr</a></em> package, that provides enhanced functional programming functions. The <em>purrr</em> functions used in this vignette are <em>map*()</em> functions, which are similar in their functionality to base R’s <em>lapply()</em>.</p>
<p>When using <em>haven</em> to import the original Allbus data, that would look like this.</p>
<pre><code>raw_data &lt;- read_sav("ZA4610_A10.SAV")</code></pre>
<p>For the purpose of the vignette we are loading a simulated data instead.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"allbus_2010_simulated"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>raw_data &lt;-<span class="st"> </span>allbus_<span class="dv">2010</span>_simulated</span></code></pre></div>
<p>The Allbus variable names are quite technical ranging from V1 to V981, thusly not carrying any meaning related to the variable stimulus. Fortunately the <em>haven</em> data import preserves the SPSS variable labels, that describe each variable in more detail. We are going to convert these labels into a format, that allows us to use them as variable names.</p>
<p>The code below extracts all variable labels and elimates all non-characters from the labels and substitutes spaces with underscores.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>var_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span>(raw_data, <span class="op">~</span><span class="kw"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(., <span class="st">"label"</span>))</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>var_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"[,</span><span class="ch">\\</span><span class="st">.:;&gt;&lt;?+()-]"</span>, <span class="st">" "</span>, var_labels)</span>
<span id="cb4-4"><a href="#cb4-4"></a>var_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"</span><span class="ch">\\</span><span class="st">s+"</span>, <span class="st">"_"</span>, <span class="kw"><a href="https://rdrr.io/r/base/trimws.html">trimws</a></span>(var_labels))</span></code></pre></div>
<p>The variable labels for the ego-centered network module need some special treatment, so that egor can give useful names to the alter variables. We are deleting the first part from those labels, that is shared by all variables in each split.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>var_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"FREUND_IN_._"</span>, <span class="st">""</span>, var_labels)</span>
<span id="cb5-2"><a href="#cb5-2"></a>var_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"^KONTAKT_._"</span>, <span class="st">""</span>, var_labels)</span></code></pre></div>
<p>Now we can use the cleaned up variable labels as <em>names</em> for our data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(raw_data) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/make.unique.html">make.unique</a></span>(var_labels, <span class="dt">sep =</span> <span class="st">""</span>)</span></code></pre></div>
</div>
<div id="convert-the-data-to-egor-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#convert-the-data-to-egor-objects" class="anchor"></a>Convert the data to egor objects</h2>
<p>We are going to create two separate ego objects for each split. Starting with the “Freunde” split.</p>
<p>First we filter out only those respondents from split 1.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>split_freunde &lt;-<span class="st"> </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span>raw_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(FRAGEBOGENSPLIT_F020 <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<p>Now we use the <em>onefile_to_egor()</em> function to convert the data to an egor object. This function needs a few arguments in order for it to be able to locate the alter data and alter-alter tie data in the dataset.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>e_freunde &lt;-<span class="st"> </span><span class="kw"><a href="../reference/onefile_to_egor.html">onefile_to_egor</a></span>(</span>
<span id="cb8-2"><a href="#cb8-2"></a>                <span class="dt">egos =</span> split_freunde,</span>
<span id="cb8-3"><a href="#cb8-3"></a>                <span class="dt">ID.vars =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">ego =</span> <span class="st">"IDENTIFIKATIONSNUMMER_DES_BEFRAGTEN"</span>),</span>
<span id="cb8-4"><a href="#cb8-4"></a>                <span class="dt">netsize =</span> split_freunde<span class="op">$</span>ANZ_GENANNTER_NETZWERKPERS_SPLIT_<span class="dv">1</span>,</span>
<span id="cb8-5"><a href="#cb8-5"></a>                <span class="dt">attr.start.col =</span> <span class="st">"GESCHLECHT"</span>,</span>
<span id="cb8-6"><a href="#cb8-6"></a>                <span class="dt">attr.end.col =</span> <span class="st">"SPANNUNGEN_KONFLIKTE2"</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>                <span class="dt">aa.first.var =</span> <span class="st">"KENNEN_SICH_A_B"</span>,</span>
<span id="cb8-8"><a href="#cb8-8"></a>                <span class="dt">max.alters =</span> <span class="dv">3</span>)</span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; Sorting data by egoID:</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; Done.</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; Transforming alters data to long format:</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt; Done.</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt; Transforming wide dyad data to edgelist:</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; Done.</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; Note: Make sure to filter out edges with invalid weight values.</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt; Filtering out empty alter entries using provided network size values:</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; Done.</span></span></code></pre></div>
<p>The <em>onefile_to_egor()</em> function prints some messages during the conversion, that are supposed to help us to identify problems in case something something goes wrong.</p>
<p>We also see a NOTE, that tells us that we need to filter out invalid alter-alter ties. In this case those are ties with a weight of 2, since Allbus codes not existing ties with 2 here.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(raw_data<span class="op">$</span>KENNEN_SICH_A_B, <span class="st">"labels"</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt;   TRIFFT NICHT ZU   KENNEN SICH GUT KENNEN SICH NICHT      KEINE ANGABE </span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt;                 0                 1                 2                 9</span></span></code></pre></div>
<p>“KENNEN SICH NICHT” means “don’t know each other” in german.</p>
<p>We can filter the alter-alter ties using the <em>activate()</em> and <em>filter()</em> functions.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>e_freunde &lt;-<span class="st"> </span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="st">  </span>e_freunde <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/activate.html">activate</a></span>(aatie) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(weight <span class="op">!=</span><span class="st"> </span><span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/activate.html">activate</a></span>(ego)</span></code></pre></div>
<p>Next we repeat the same steps for split 2. Here we need to filter out the weight value 3 from the alter-alter ties and of adjust some arguments according to the position of the data in the dataset and the maximum amount of alters that the respondents were allowed to nominate.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>split_kontakte &lt;-<span class="st"> </span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">  </span>raw_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(FRAGEBOGENSPLIT_F020 <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) </span>
<span id="cb11-4"><a href="#cb11-4"></a></span>
<span id="cb11-5"><a href="#cb11-5"></a>e_kontakte &lt;-<span class="st"> </span><span class="kw"><a href="../reference/onefile_to_egor.html">onefile_to_egor</a></span>(</span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="dt">egos =</span> split_kontakte,</span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="dt">ID.vars =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">ego =</span> <span class="st">"IDENTIFIKATIONSNUMMER_DES_BEFRAGTEN"</span>),</span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="dt">netsize =</span> split_kontakte<span class="op">$</span>ANZ_GENANNTER_NETZWERKPERS_SPLIT_<span class="dv">2</span>,</span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="dt">attr.start.col =</span> <span class="st">"GESCHLECHT3"</span>,</span>
<span id="cb11-10"><a href="#cb11-10"></a>  <span class="dt">attr.end.col =</span> <span class="st">"SPANNUNGEN_KONFLIKTE7"</span>,</span>
<span id="cb11-11"><a href="#cb11-11"></a>  <span class="dt">aa.first.var =</span> <span class="st">"KENNEN_SICH_KONTAKT_A_B"</span>,</span>
<span id="cb11-12"><a href="#cb11-12"></a>  <span class="dt">max.alters =</span> <span class="dv">5</span>)</span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt; Sorting data by egoID:</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">#&gt; Done.</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co">#&gt; Transforming alters data to long format:</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co">#&gt; Done.</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="co">#&gt; Transforming wide dyad data to edgelist:</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="co">#&gt; Done.</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co">#&gt; Note: Make sure to filter out edges with invalid weight values.</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="co">#&gt; Filtering out empty alter entries using provided network size values:</span></span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="co">#&gt; Done.</span></span>
<span id="cb11-22"><a href="#cb11-22"></a></span>
<span id="cb11-23"><a href="#cb11-23"></a>e_kontakte &lt;-<span class="st"> </span></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="st">  </span>e_kontakte <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/activate.html">activate</a></span>(aatie) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-26"><a href="#cb11-26"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(weight <span class="op">!=</span><span class="st"> </span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-27"><a href="#cb11-27"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/activate.html">activate</a></span>(ego)</span></code></pre></div>
</div>
<div id="visualize-and-analyze" class="section level2">
<h2 class="hasAnchor">
<a href="#visualize-and-analyze" class="anchor"></a>Visualize and analyze</h2>
<p>Now we can visualize and analyze the Allbus data. A few demonstrations follow. For an overview of available options, please see the main vignette of egor “Using <code>egor</code> to analyse ego-centered network data”.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(e_freunde, <span class="dt">ego_no =</span> <span class="dv">4</span>, <span class="dt">x_dim =</span> <span class="dv">2</span>, <span class="dt">y_dim =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="egor_allbus_files/figure-html/unnamed-chunk-11-1.png" width="768"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(e_kontakte, <span class="dt">ego_no =</span> <span class="dv">4</span>, <span class="dt">x_dim =</span> <span class="dv">2</span>, <span class="dt">y_dim =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="egor_allbus_files/figure-html/unnamed-chunk-11-2.png" width="768"></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>e_freunde &lt;-<span class="st"> </span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="st">  </span>e_freunde<span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/activate.html">activate</a></span>(alter) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">WO_GEBOREN =</span> <span class="kw"><a href="https://rdrr.io/r/base/droplevels.html">droplevels</a></span>(<span class="kw"><a href="https://haven.tidyverse.org/reference/as_factor.html">as_factor</a></span>(WO_GEBOREN)),</span>
<span id="cb14-5"><a href="#cb14-5"></a>         <span class="dt">KONTAKTE =</span>  <span class="kw"><a href="https://rdrr.io/r/base/droplevels.html">droplevels</a></span>(<span class="kw"><a href="https://haven.tidyverse.org/reference/as_factor.html">as_factor</a></span>(KONTAKTE)))</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="kw"><a href="../reference/plot_egor.html">plot_egograms</a></span>(e_freunde, </span>
<span id="cb14-8"><a href="#cb14-8"></a>              <span class="dt">ego_no =</span> <span class="dv">4</span>, </span>
<span id="cb14-9"><a href="#cb14-9"></a>              <span class="dt">x_dim =</span> <span class="dv">1</span>, </span>
<span id="cb14-10"><a href="#cb14-10"></a>              <span class="dt">y_dim =</span> <span class="dv">1</span>, <span class="dt">venn_var =</span> <span class="st">"KONTAKTE"</span>,</span>
<span id="cb14-11"><a href="#cb14-11"></a>              <span class="dt">pie_var =</span> <span class="st">"WO_GEBOREN"</span>)</span></code></pre></div>
<p><img src="egor_allbus_files/figure-html/unnamed-chunk-12-1.png" width="768"></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a></span>
<span id="cb15-2"><a href="#cb15-2"></a>e_kontakte &lt;-<span class="st"> </span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="st">  </span>e_kontakte <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/activate.html">activate</a></span>(alter) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">WO_GEBOREN =</span> <span class="kw"><a href="https://rdrr.io/r/base/droplevels.html">droplevels</a></span>(<span class="kw"><a href="https://haven.tidyverse.org/reference/as_factor.html">as_factor</a></span>(WO_GEBOREN)),</span>
<span id="cb15-6"><a href="#cb15-6"></a>         <span class="dt">KONTAKTE =</span>  <span class="kw"><a href="https://rdrr.io/r/base/droplevels.html">droplevels</a></span>(<span class="kw"><a href="https://haven.tidyverse.org/reference/as_factor.html">as_factor</a></span>(KONTAKTE)))</span>
<span id="cb15-7"><a href="#cb15-7"></a></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="kw"><a href="../reference/plot_egor.html">plot_egograms</a></span>(e_kontakte, </span>
<span id="cb15-9"><a href="#cb15-9"></a>              <span class="dt">ego_no =</span> <span class="dv">4</span>, </span>
<span id="cb15-10"><a href="#cb15-10"></a>              <span class="dt">x_dim =</span> <span class="dv">1</span>, </span>
<span id="cb15-11"><a href="#cb15-11"></a>              <span class="dt">y_dim =</span> <span class="dv">1</span>, </span>
<span id="cb15-12"><a href="#cb15-12"></a>              <span class="dt">venn_var =</span> <span class="st">"KONTAKTE"</span> ,</span>
<span id="cb15-13"><a href="#cb15-13"></a>              <span class="dt">pie_var =</span> <span class="st">"WO_GEBOREN"</span>)</span></code></pre></div>
<p><img src="egor_allbus_files/figure-html/unnamed-chunk-12-2.png" width="768"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-allbus-2010-ego-centered-network-data">The Allbus 2010: ego-centered network data</a></li>
      <li><a href="#convert-the-data-to-egor-objects">Convert the data to egor objects</a></li>
      <li><a href="#visualize-and-analyze">Visualize and analyze</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Till Krenz, Pavel N. Krivitsky, Raffaele Vacca, Michal Bojanowski, Andreas Herz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
